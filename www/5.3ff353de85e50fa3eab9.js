(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{jkDv:function(t,e,i){"use strict";i.r(e),i.d(e,"AdminModule",(function(){return se}));var c=i("ofXK"),r=i("tyNb"),o=i("0MNC"),n=i("lJxs"),a=i("UXun"),b=i("fXoL"),s=i("RL7/"),d=i("XhcP"),l=i("/t3+"),u=i("MutI"),m=i("bTqV"),p=i("NFeN");function g(t,e){if(1&t){const t=b.Tb();b.Sb(0,"button",13),b.Zb("click",(function(){return b.pc(t),b.dc(),b.nc(2).toggle()})),b.Sb(1,"mat-icon",14),b.yc(2,"menu"),b.Rb(),b.Rb()}}let f=(()=>{class t{constructor(t,e,i){this.breakpointObserver=t,this.authService=e,this.router=i,this.isHandset$=this.breakpointObserver.observe(o.b.Handset).pipe(Object(n.a)(t=>t.matches),Object(a.a)())}logout(){this.authService.logout().then(()=>{this.router.navigate(["./home"])})}}return t.\u0275fac=function(e){return new(e||t)(b.Mb(o.a),b.Mb(s.a),b.Mb(r.c))},t.\u0275cmp=b.Gb({type:t,selectors:[["app-nav"]],decls:33,vars:12,consts:[[1,"sidenav-container"],["fixedInViewport","",1,"sidenav",3,"mode","opened"],["drawer",""],["mat-list-item","","routerLink","/admin",3,"click"],["mat-list-item","","routerLink","products",3,"click"],["mat-list-item","","routerLink","create-product",3,"click"],["mat-list-item","","routerLink","cates",3,"click"],["mat-list-item","","routerLink","create-cate",3,"click"],["mat-list-item","","routerLink","/",3,"click"],["color","primary",1,"between-xs"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click",4,"ngIf"],[3,"click"],["mat-button","",3,"click"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click"],["aria-label","Side nav toggle icon"]],template:function(t,e){if(1&t){const t=b.Tb();b.Sb(0,"mat-sidenav-container",0),b.Sb(1,"mat-sidenav",1,2),b.ec(3,"async"),b.ec(4,"async"),b.ec(5,"async"),b.Sb(6,"mat-toolbar"),b.yc(7,"Menu"),b.Rb(),b.Sb(8,"mat-nav-list"),b.Sb(9,"a",3),b.Zb("click",(function(){return b.pc(t),b.nc(2).toggle()})),b.yc(10,"Perfil"),b.Rb(),b.Sb(11,"a",3),b.Zb("click",(function(){return b.pc(t),b.nc(2).toggle()})),b.yc(12,"Dashboard"),b.Rb(),b.Sb(13,"a",4),b.Zb("click",(function(){return b.pc(t),b.nc(2).toggle()})),b.yc(14,"Listar productos"),b.Rb(),b.Sb(15,"a",5),b.Zb("click",(function(){return b.pc(t),b.nc(2).toggle()})),b.yc(16,"Crear productos"),b.Rb(),b.Sb(17,"a",6),b.Zb("click",(function(){return b.pc(t),b.nc(2).toggle()})),b.yc(18,"Ver categorias"),b.Rb(),b.Sb(19,"a",7),b.Zb("click",(function(){return b.pc(t),b.nc(2).toggle()})),b.yc(20,"Crear categorias"),b.Rb(),b.Sb(21,"a",8),b.Zb("click",(function(){return b.pc(t),b.nc(2).toggle()})),b.yc(22,"Vista cliente"),b.Rb(),b.Rb(),b.Rb(),b.Sb(23,"mat-sidenav-content"),b.Sb(24,"mat-toolbar",9),b.xc(25,g,3,0,"button",10),b.ec(26,"async"),b.Sb(27,"span",11),b.Zb("click",(function(){return b.pc(t),b.nc(2).toggle()})),b.yc(28,"StoreRojelio"),b.Rb(),b.Sb(29,"button",12),b.Zb("click",(function(){return e.logout()})),b.Sb(30,"mat-icon"),b.yc(31,"logout"),b.Rb(),b.Rb(),b.Rb(),b.Nb(32,"router-outlet"),b.Rb(),b.Rb()}2&t&&(b.Bb(1),b.jc("mode",b.fc(4,6,e.isHandset$)?"over":"side")("opened",!1===b.fc(5,8,e.isHandset$)),b.Cb("role",b.fc(3,4,e.isHandset$)?"dialog":"navigation"),b.Bb(24),b.jc("ngIf",b.fc(26,10,e.isHandset$)))},directives:[d.b,d.a,l.a,u.c,u.a,r.f,d.c,c.l,m.b,p.a,r.h],pipes:[c.b],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:200px}.sidenav[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{background:inherit}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}"]}),t})();var h=i("zkoq"),S=i("Wp6s"),R=i("STbY");function v(t,e){if(1&t&&(b.Sb(0,"mat-grid-tile",4),b.Sb(1,"mat-card",5),b.Sb(2,"mat-card-header"),b.Sb(3,"mat-card-title"),b.yc(4),b.Sb(5,"button",6),b.Sb(6,"mat-icon"),b.yc(7,"more_vert"),b.Rb(),b.Rb(),b.Sb(8,"mat-menu",7,8),b.Sb(10,"button",9),b.yc(11,"Expand"),b.Rb(),b.Sb(12,"button",9),b.yc(13,"Remove"),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Sb(14,"mat-card-content",10),b.Sb(15,"div"),b.yc(16,"Card Content Here"),b.Rb(),b.Rb(),b.Rb(),b.Rb()),2&t){const t=e.$implicit,i=b.nc(9);b.jc("colspan",t.cols)("rowspan",t.rows),b.Bb(4),b.Ac(" ",t.title," "),b.Bb(1),b.jc("matMenuTriggerFor",i)}}let y=(()=>{class t{constructor(t){this.breakpointObserver=t,this.cards=this.breakpointObserver.observe(o.b.Handset).pipe(Object(n.a)(({matches:t})=>t?[{title:"Card 1",cols:1,rows:1},{title:"Card 2",cols:1,rows:1},{title:"Card 3",cols:1,rows:1},{title:"Card 4",cols:1,rows:1}]:[{title:"Card 1",cols:2,rows:1},{title:"Card 2",cols:1,rows:1},{title:"Card 3",cols:1,rows:2},{title:"Card 4",cols:1,rows:1}]))}}return t.\u0275fac=function(e){return new(e||t)(b.Mb(o.a))},t.\u0275cmp=b.Gb({type:t,selectors:[["app-dashboard"]],decls:6,vars:3,consts:[[1,"grid-container"],[1,"mat-h1"],["cols","2","rowHeight","350px"],[3,"colspan","rowspan",4,"ngFor","ngForOf"],[3,"colspan","rowspan"],[1,"dashboard-card"],["mat-icon-button","","aria-label","Toggle menu",1,"more-button",3,"matMenuTriggerFor"],["xPosition","before"],["menu","matMenu"],["mat-menu-item",""],[1,"dashboard-card-content"]],template:function(t,e){1&t&&(b.Sb(0,"div",0),b.Sb(1,"h1",1),b.yc(2,"Dashboard"),b.Rb(),b.Sb(3,"mat-grid-list",2),b.xc(4,v,17,4,"mat-grid-tile",3),b.ec(5,"async"),b.Rb(),b.Rb()),2&t&&(b.Bb(4),b.jc("ngForOf",b.fc(5,1,e.cards)))},directives:[h.a,c.k,h.c,S.a,S.d,S.g,m.b,R.c,p.a,R.d,R.a,S.c],pipes:[c.b],styles:[".grid-container[_ngcontent-%COMP%]{margin:20px}.dashboard-card[_ngcontent-%COMP%]{position:absolute;top:15px;left:15px;right:15px;bottom:15px}.more-button[_ngcontent-%COMP%]{position:absolute;top:5px;right:10px}.dashboard-card-content[_ngcontent-%COMP%]{text-align:center}"]}),t})();var F=i("mrSG"),C=i("1t5U"),x=i("+0xr"),B=i("M9IT");function j(t,e){1&t&&(b.Sb(0,"th",15),b.yc(1," NAME "),b.Rb())}function w(t,e){if(1&t&&(b.Sb(0,"td",16),b.yc(1),b.Rb()),2&t){const t=e.$implicit;b.Bb(1),b.Ac(" ",t.name," ")}}function q(t,e){1&t&&(b.Sb(0,"th",15),b.yc(1," DESCRIPTION "),b.Rb())}function I(t,e){if(1&t&&(b.Sb(0,"td",16),b.yc(1),b.Rb()),2&t){const t=e.$implicit;b.Bb(1),b.zc(t.description)}}function M(t,e){1&t&&(b.Sb(0,"th",15),b.yc(1," IMG "),b.Rb())}function k(t,e){if(1&t&&(b.Sb(0,"td",16),b.Nb(1,"img",17),b.Rb()),2&t){const t=e.$implicit;b.Bb(1),b.jc("src",t.img,b.qc)}}function P(t,e){1&t&&(b.Sb(0,"th",15),b.yc(1," ACTIONS "),b.Rb())}function N(t,e){if(1&t){const t=b.Tb();b.Sb(0,"td",16),b.Sb(1,"img",18),b.Zb("click",(function(){b.pc(t);const i=e.$implicit;return b.dc().updateCate(i)})),b.Rb(),b.Sb(2,"img",19),b.Zb("click",(function(){b.pc(t);const i=e.$implicit;return b.dc().deleteCate(i.id)})),b.Rb(),b.Rb()}}function O(t,e){1&t&&b.Nb(0,"tr",20)}function E(t,e){1&t&&b.Nb(0,"tr",21)}function U(t,e){if(1&t){const t=b.Tb();b.Sb(0,"div",22),b.Sb(1,"div",23),b.Nb(2,"img",17),b.Rb(),b.Sb(3,"div",24),b.Sb(4,"strong"),b.yc(5),b.Rb(),b.Sb(6,"p"),b.yc(7),b.Rb(),b.Rb(),b.Sb(8,"button",25),b.Sb(9,"mat-icon"),b.yc(10,"more_vert"),b.Rb(),b.Rb(),b.Sb(11,"mat-menu",null,26),b.Sb(13,"button",27),b.Zb("click",(function(){b.pc(t);const i=e.$implicit;return b.dc().updateCate(i)})),b.yc(14,"Editar"),b.Rb(),b.Sb(15,"button",27),b.Zb("click",(function(){b.pc(t);const i=e.$implicit;return b.dc().deleteCate(i.id)})),b.yc(16,"Borrar"),b.Rb(),b.Rb(),b.Rb()}if(2&t){const t=e.$implicit,i=b.nc(12);b.Bb(2),b.jc("src",t.img,b.qc),b.Bb(3),b.zc(t.name),b.Bb(2),b.zc(t.description),b.Bb(1),b.jc("matMenuTriggerFor",i)}}const D=function(){return[5,10,25,100]};let $=(()=>{class t{constructor(t,e){this.catesServices=t,this.router=e,this.displayedColumns=["img","name","description","actions"]}ngOnInit(){this.fetchCates()}fetchCates(){return Object(F.b)(this,void 0,void 0,(function*(){yield this.catesServices.getCates().subscribe(t=>Object(F.b)(this,void 0,void 0,(function*(){this.cates=t})))}))}addProducts(t){console.log("popopp Este es el id de categoria "+t),this.router.navigate(["/create",t])}updateCate(t){console.log("======================="),console.log(t),console.log("======================="),this.router.navigate(["admin/edit-cate"],{state:{cate:t}})}deleteCate(t){console.log("Este es el ID",t),this.catesServices.deleteCate(t)}}return t.\u0275fac=function(e){return new(e||t)(b.Mb(C.a),b.Mb(r.c))},t.\u0275cmp=b.Gb({type:t,selectors:[["app-cates"]],decls:22,vars:8,consts:[[1,"contend-web"],["mat-button","","routerLink","../create-cate"],[1,"mat-elevation-z8","cates-table"],["mat-table","",1,"full-width-table",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","description"],["matColumnDef","img"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","pageSizeOptions"],[1,"contend-movil"],["class","list",4,"ngFor","ngForOf"],["mat-header-cell",""],["mat-cell",""],[3,"src"],["src","./assets/icons/edit.png",1,"cates-del",3,"click"],["src","./assets/icons/del.png",3,"click"],["mat-header-row",""],["mat-row",""],[1,"list"],[1,"avatar"],[1,"contend"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"]],template:function(t,e){1&t&&(b.Sb(0,"div",0),b.Sb(1,"button",1),b.yc(2,"Crear categoria"),b.Rb(),b.Sb(3,"div",2),b.Sb(4,"table",3),b.Qb(5,4),b.xc(6,j,2,0,"th",5),b.xc(7,w,2,1,"td",6),b.Pb(),b.Qb(8,7),b.xc(9,q,2,0,"th",5),b.xc(10,I,2,1,"td",6),b.Pb(),b.Qb(11,8),b.xc(12,M,2,0,"th",5),b.xc(13,k,2,1,"td",6),b.Pb(),b.Qb(14,9),b.xc(15,P,2,0,"th",5),b.xc(16,N,3,0,"td",6),b.Pb(),b.xc(17,O,1,0,"tr",10),b.xc(18,E,1,0,"tr",11),b.Rb(),b.Nb(19,"mat-paginator",12),b.Rb(),b.Rb(),b.Sb(20,"div",13),b.xc(21,U,17,4,"div",14),b.Rb()),2&t&&(b.Bb(4),b.jc("dataSource",e.cates),b.Bb(13),b.jc("matHeaderRowDef",e.displayedColumns),b.Bb(1),b.jc("matRowDefColumns",e.displayedColumns),b.Bb(1),b.jc("length",100)("pageSize",10)("pageSizeOptions",b.lc(7,D)),b.Bb(2),b.jc("ngForOf",e.cates))},directives:[m.b,r.d,x.j,x.c,x.e,x.b,x.g,x.i,B.a,c.k,x.d,x.a,x.f,x.h,R.c,p.a,R.d,R.a],styles:[".full-width-table[_ngcontent-%COMP%]{width:100%}.cates-table[_ngcontent-%COMP%]{width:98%;margin:2px auto 0}img[_ngcontent-%COMP%]{width:30px}img[_ngcontent-%COMP%]   .cates-del[_ngcontent-%COMP%]{margin-left:3px}"]}),t})();var _=i("3Pt+"),V=i("nYR2"),z=i("Vaw3");let Z=(()=>{class t{constructor(t){this.storage=t}uploadFiles(t,e){const i=t.target.files[0];console.log(i.name);const c="images/"+e+"/"+i.name;return console.log(c),{fileRef:this.storage.ref(c),task:this.storage.upload(c,i)}}}return t.\u0275fac=function(e){return new(e||t)(b.Wb(z.a))},t.\u0275prov=b.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var L=i("kmnG"),G=i("qFsG");function T(t,e){1&t&&(b.Sb(0,"p"),b.yc(1,"Este campo es requerido"),b.Rb())}function H(t,e){if(1&t&&(b.Sb(0,"div"),b.xc(1,T,2,0,"p",7),b.Rb()),2&t){const t=b.dc();b.Bb(1),b.jc("ngIf",t.nameField.hasError("required"))}}function A(t,e){1&t&&(b.Sb(0,"p"),b.yc(1,"Este campo es requerido"),b.Rb())}function Q(t,e){if(1&t&&(b.Sb(0,"div"),b.xc(1,A,2,0,"p",7),b.Rb()),2&t){const t=b.dc();b.Bb(1),b.jc("ngIf",t.descriptionField.hasError("required"))}}function K(t,e){1&t&&b.Nb(0,"img",12),2&t&&b.jc("src",e.ngIf,b.qc)}function J(t,e){1&t&&(b.Sb(0,"p"),b.yc(1,"Este campo es requerido"),b.Rb())}function X(t,e){if(1&t&&(b.Sb(0,"div"),b.xc(1,J,2,0,"p",7),b.Rb()),2&t){const t=b.dc();b.Bb(1),b.jc("ngIf",t.catesForm.hasError("required"))}}let W=(()=>{class t{constructor(t,e,i,c,r){this.catesServices=t,this.router=e,this.formBuilder=i,this.storage=c,this.imgsService=r,this.buildForm()}ngOnInit(){}buildForm(){this.catesForm=this.formBuilder.group({name:["",[_.l.required]],description:["",[_.l.required]],img:[""]})}addCate(t){t.preventDefault(),this.catesForm.valid&&(this.catesServices.addCate({name:this.catesForm.value.name,description:this.catesForm.value.description,img:this.catesForm.value.img}),this.router.navigate(["/admin/cates"]))}uploadFile(t){const e=this.imgsService.uploadFiles(t,"cates");e.task.snapshotChanges().pipe(Object(V.a)(()=>{this.image$=e.fileRef.getDownloadURL(),this.image$.subscribe(t=>{console.log(t),this.catesForm.get("img").setValue(t)})})).subscribe()}get nameField(){return this.catesForm.get("name")}get descriptionField(){return this.catesForm.get("description")}}return t.\u0275fac=function(e){return new(e||t)(b.Mb(C.a),b.Mb(r.c),b.Mb(_.b),b.Mb(z.a),b.Mb(Z))},t.\u0275cmp=b.Gb({type:t,selectors:[["app-form-cates"]],decls:32,vars:8,consts:[[1,"mat-elevation-z8","cates-form"],[3,"formGroup","ngSubmit"],[1,"shipping-card"],[1,"row"],[1,"col-xs"],[1,"full-width"],["type","text","formControlName","name","matInput","","placeholder","Escribe el nombre","value","Joe Doe"],[4,"ngIf"],["formControlName","description","matInput","","placeholder","Escribe la descripcion"],["alt","",3,"src",4,"ngIf"],["type","file",3,"change"],["mat-raised-button","","color","accent","type","submit",3,"disabled"],["alt","",3,"src"]],template:function(t,e){1&t&&(b.Sb(0,"div",0),b.Sb(1,"form",1),b.Zb("ngSubmit",(function(t){return e.addCate(t)})),b.Sb(2,"mat-card",2),b.Sb(3,"mat-card-header"),b.Sb(4,"mat-card-title"),b.yc(5,"Crear nueva categoria"),b.Rb(),b.Rb(),b.Sb(6,"mat-card-content"),b.Sb(7,"div",3),b.Sb(8,"div",4),b.Sb(9,"mat-form-field",5),b.Sb(10,"mat-label"),b.yc(11,"Nombre"),b.Rb(),b.Nb(12,"input",6),b.Rb(),b.xc(13,H,2,1,"div",7),b.Rb(),b.Rb(),b.Sb(14,"div",3),b.Sb(15,"div",4),b.Sb(16,"mat-form-field",5),b.Sb(17,"mat-label"),b.yc(18,"Descripci\xf3n"),b.Rb(),b.Nb(19,"textarea",8),b.Rb(),b.xc(20,Q,2,1,"div",7),b.Rb(),b.Rb(),b.Sb(21,"div",3),b.Sb(22,"div",4),b.Sb(23,"h1"),b.yc(24,"Images"),b.Rb(),b.xc(25,K,1,1,"img",9),b.ec(26,"async"),b.Sb(27,"input",10),b.Zb("change",(function(t){return e.uploadFile(t)})),b.Rb(),b.xc(28,X,2,1,"div",7),b.Rb(),b.Rb(),b.Rb(),b.Sb(29,"mat-card-actions"),b.Sb(30,"button",11),b.yc(31,"Agregar"),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb()),2&t&&(b.Bb(1),b.jc("formGroup",e.catesForm),b.Bb(12),b.jc("ngIf",e.nameField.errors&&e.nameField.dirty),b.Bb(7),b.jc("ngIf",e.descriptionField.errors&&e.descriptionField.dirty),b.Bb(5),b.jc("ngIf",b.fc(26,6,e.image$)),b.Bb(3),b.jc("ngIf",e.catesForm.errors),b.Bb(2),b.jc("disabled",e.catesForm.invalid))},directives:[_.m,_.h,_.d,S.a,S.d,S.g,S.c,L.b,L.e,_.a,G.a,_.g,_.c,c.l,S.b,m.b],pipes:[c.b],styles:[".cates-form[_ngcontent-%COMP%]{width:98%;margin:10px auto 0}.full-width[_ngcontent-%COMP%]{width:100%}"]}),t})();var Y=i("f+7+"),tt=i("d3UM"),et=i("FKr1");function it(t,e){if(1&t&&(b.Sb(0,"mat-option",27),b.yc(1),b.Rb()),2&t){const t=e.$implicit;b.jc("value",t.name),b.Bb(1),b.zc(t.name)}}function ct(t,e){1&t&&(b.Sb(0,"p"),b.yc(1,"Este campo es requerido"),b.Rb())}function rt(t,e){if(1&t&&(b.Sb(0,"div"),b.xc(1,ct,2,0,"p",8),b.Rb()),2&t){const t=b.dc();b.Bb(1),b.jc("ngIf",t.catesField.hasError("required"))}}function ot(t,e){1&t&&(b.Sb(0,"p"),b.yc(1,"Este campo es requerido"),b.Rb())}function nt(t,e){if(1&t&&(b.Sb(0,"div"),b.xc(1,ot,2,0,"p",8),b.Rb()),2&t){const t=b.dc();b.Bb(1),b.jc("ngIf",t.nameField.hasError("required"))}}function at(t,e){1&t&&(b.Sb(0,"p"),b.yc(1,"Este campo es requerido"),b.Rb())}function bt(t,e){if(1&t&&(b.Sb(0,"div"),b.xc(1,at,2,0,"p",8),b.Rb()),2&t){const t=b.dc();b.Bb(1),b.jc("ngIf",t.priceField.hasError("required"))}}function st(t,e){1&t&&(b.Sb(0,"p"),b.yc(1,"Este campo es requerido"),b.Rb())}function dt(t,e){if(1&t&&(b.Sb(0,"div"),b.xc(1,st,2,0,"p",8),b.Rb()),2&t){const t=b.dc();b.Bb(1),b.jc("ngIf",t.quantityField.hasError("required"))}}function lt(t,e){1&t&&(b.Sb(0,"p"),b.yc(1,"Este campo es requerido"),b.Rb())}function ut(t,e){if(1&t&&(b.Sb(0,"div"),b.xc(1,lt,2,0,"p",8),b.Rb()),2&t){const t=b.dc();b.Bb(1),b.jc("ngIf",t.unitField.hasError("required"))}}function mt(t,e){1&t&&b.Nb(0,"img",28),2&t&&b.jc("src",e.ngIf,b.qc)}let pt=(()=>{class t{constructor(t,e,i,c,r){this.formBuilder=t,this.productsService=e,this.catesService=i,this.router=c,this.imgsService=r,this.buildForm()}ngOnInit(){this.catesService.getCates().subscribe(t=>{this.cates=t,console.log(t)})}buildForm(){this.productForm=this.formBuilder.group({cates:["",[_.l.required]],name:["",[_.l.required]],price:["",[_.l.required]],priceUnitCom:[""],priceUnitVen:[""],quantity:["",[_.l.required]],unit:["",[_.l.required]],description:[""],img:[""]})}addProduct(t){console.log("activa agragar product"),t.preventDefault(),this.productForm.valid&&(this.productsService.addCate({cate:this.productForm.value.cates,name:this.productForm.value.name,price:this.productForm.value.price,priceUnitCom:this.productForm.value.price/this.productForm.value.quantity,priceUnitVen:this.productForm.value.priceUnitVen,quantity:this.productForm.value.quantity,unit:this.productForm.value.unit,description:this.productForm.value.description,img:this.productForm.value.img}),this.router.navigate(["/admin/products"]))}uploadFile(t){const e=this.imgsService.uploadFiles(t,"products");e.task.snapshotChanges().pipe(Object(V.a)(()=>{this.image$=e.fileRef.getDownloadURL(),this.image$.subscribe(t=>{console.log(t),this.productForm.get("img").setValue(t)})})).subscribe()}get catesField(){return this.productForm.get("cates")}get nameField(){return this.productForm.get("name")}get priceField(){return this.productForm.get("price")}get priceUnitComField(){return this.productForm.get("priceUnitCom")}get priceUnitVenField(){return this.productForm.get("priceUnitVen")}get quantityField(){return this.productForm.get("quantity")}get unitField(){return this.productForm.get("unit")}get descriptionField(){return this.productForm.get("description")}get imgField(){return this.productForm.get("img")}}return t.\u0275fac=function(e){return new(e||t)(b.Mb(_.b),b.Mb(Y.a),b.Mb(C.a),b.Mb(r.c),b.Mb(Z))},t.\u0275cmp=b.Gb({type:t,selectors:[["app-form-product"]],decls:87,vars:13,consts:[[1,"mat-elevation-z8"],[3,"formGroup","ngSubmit"],[1,"shipping-card"],[1,"row"],[1,"col-xs"],["appearance","fill full-width"],["type","text","formControlName","cates"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"full-width"],["type","text","formControlName","name","matInput","","placeholder","Escribe el nombre"],["type","number","formControlName","price","matInput","","placeholder","Escribe el precio"],["cellspacing","0",1,"example-full-width"],["type","number","formControlName","quantity","matInput","","placeholder","Cantidad dependiendo de la unidad"],[1,"full-width","div"],["type","text","formControlName","unit"],["value","Kilo"],["value","Libra"],["value","Unidad"],["value","Docena"],["value","Litro"],["type","text","formControlName","description","matInput","","placeholder","Escribe la descripcion"],["type","number","value","productForm.value.price","formControlName","priceUnitCom","matInput","",3,"disabled","value"],["type","number","formControlName","priceUnitVen","matInput","","placeholder","Escribe el precio unidad de venta"],["alt","",3,"src",4,"ngIf"],["type","file",3,"change"],["mat-raised-button","","color","accent","type","submit",3,"disabled"],[3,"value"],["alt","",3,"src"]],template:function(t,e){1&t&&(b.Sb(0,"div",0),b.Sb(1,"form",1),b.Zb("ngSubmit",(function(t){return e.addProduct(t)})),b.Sb(2,"mat-card",2),b.Sb(3,"mat-card-header"),b.Sb(4,"mat-card-title"),b.yc(5,"Crear nuevo producto"),b.Rb(),b.Rb(),b.Sb(6,"mat-card-content"),b.Sb(7,"div",3),b.Sb(8,"div",4),b.Sb(9,"mat-form-field",5),b.Sb(10,"mat-label"),b.yc(11,"Categoria"),b.Rb(),b.Sb(12,"mat-select",6),b.xc(13,it,2,2,"mat-option",7),b.Rb(),b.Rb(),b.xc(14,rt,2,1,"div",8),b.Rb(),b.Rb(),b.Sb(15,"div",3),b.Sb(16,"div",4),b.Sb(17,"mat-form-field",9),b.Sb(18,"mat-label"),b.yc(19,"Nombre"),b.Rb(),b.Nb(20,"input",10),b.Rb(),b.xc(21,nt,2,1,"div",8),b.Rb(),b.Rb(),b.Sb(22,"div",3),b.Sb(23,"div",4),b.Sb(24,"mat-form-field",9),b.Sb(25,"mat-label"),b.yc(26,"Precio"),b.Rb(),b.Nb(27,"input",11),b.Rb(),b.xc(28,bt,2,1,"div",8),b.Rb(),b.Rb(),b.Sb(29,"div",3),b.Sb(30,"div",4),b.Sb(31,"table",12),b.Sb(32,"tr"),b.Sb(33,"td"),b.Sb(34,"mat-form-field",9),b.Sb(35,"mat-label"),b.yc(36,"Cantidad"),b.Rb(),b.Nb(37,"input",13),b.xc(38,dt,2,1,"div",8),b.Rb(),b.Rb(),b.Sb(39,"td"),b.Sb(40,"mat-form-field",14),b.Sb(41,"mat-label"),b.yc(42,"Unidad"),b.Rb(),b.Sb(43,"mat-select",15),b.Sb(44,"mat-option"),b.yc(45,"Selecciona una"),b.Rb(),b.Sb(46,"mat-option",16),b.yc(47,"Kilos"),b.Rb(),b.Sb(48,"mat-option",17),b.yc(49,"Libras"),b.Rb(),b.Sb(50,"mat-option",18),b.yc(51,"Unidades"),b.Rb(),b.Sb(52,"mat-option",19),b.yc(53,"Docenas"),b.Rb(),b.Sb(54,"mat-option",20),b.yc(55,"Litros"),b.Rb(),b.Sb(56,"mat-option",20),b.yc(57,"Manojos"),b.Rb(),b.Rb(),b.xc(58,ut,2,1,"div",8),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Sb(59,"div",3),b.Sb(60,"div",4),b.Sb(61,"mat-form-field",9),b.Sb(62,"mat-label"),b.yc(63,"Descripci\xf3n"),b.Rb(),b.Nb(64,"textarea",21),b.Rb(),b.Rb(),b.Rb(),b.Sb(65,"div",3),b.Sb(66,"div",4),b.Sb(67,"mat-form-field",9),b.Sb(68,"mat-label"),b.yc(69,"Precio Unidad Compra"),b.Rb(),b.Nb(70,"input",22),b.Rb(),b.Rb(),b.Rb(),b.Sb(71,"div",3),b.Sb(72,"div",4),b.Sb(73,"mat-form-field",9),b.Sb(74,"mat-label"),b.yc(75,"Precio Unidad Venta"),b.Rb(),b.Nb(76,"input",23),b.Rb(),b.Rb(),b.Rb(),b.Sb(77,"div",3),b.Sb(78,"div",4),b.Sb(79,"mat-label"),b.yc(80,"Imagen"),b.Rb(),b.xc(81,mt,1,1,"img",24),b.ec(82,"async"),b.Sb(83,"input",25),b.Zb("change",(function(t){return e.uploadFile(t)})),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Sb(84,"mat-card-actions"),b.Sb(85,"button",26),b.yc(86,"Agregar"),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb()),2&t&&(b.Bb(1),b.jc("formGroup",e.productForm),b.Bb(12),b.jc("ngForOf",e.cates),b.Bb(1),b.jc("ngIf",e.catesField.errors&&e.catesField.dirty),b.Bb(7),b.jc("ngIf",e.nameField.errors&&e.nameField.dirty),b.Bb(7),b.jc("ngIf",e.priceField.errors&&e.priceField.dirty),b.Bb(10),b.jc("ngIf",e.quantityField.errors&&e.quantityField.dirty),b.Bb(20),b.jc("ngIf",e.unitField.errors&&e.unitField.dirty),b.Bb(12),b.jc("disabled",!0)("value",e.productForm.value.price/e.productForm.value.quantity),b.Bb(11),b.jc("ngIf",b.fc(82,11,e.image$)),b.Bb(4),b.jc("disabled",e.productForm.invalid))},directives:[_.m,_.h,_.d,S.a,S.d,S.g,S.c,L.b,L.e,tt.a,_.g,_.c,c.k,c.l,_.a,G.a,_.j,et.j,S.b,m.b],pipes:[c.b],styles:[".product-form[_ngcontent-%COMP%]{width:98%;margin:10px auto 0}.full-width[_ngcontent-%COMP%]{width:100%}.div[_ngcontent-%COMP%]{width:50%}"]}),t})();function gt(t,e){if(1&t){const t=b.Tb();b.Sb(0,"mat-option",22),b.Zb("click",(function(){b.pc(t);const i=e.$implicit;return b.dc().findProductByCate(i.name)})),b.yc(1),b.Rb()}if(2&t){const t=e.$implicit;b.Bb(1),b.zc(t.name)}}function ft(t,e){1&t&&(b.Sb(0,"th",23),b.yc(1," Img "),b.Rb())}function ht(t,e){if(1&t&&(b.Sb(0,"td",24),b.Nb(1,"img",25),b.Rb()),2&t){const t=e.$implicit;b.Bb(1),b.jc("src",t.img,b.qc)}}function St(t,e){1&t&&(b.Sb(0,"th",23),b.yc(1," Name "),b.Rb())}function Rt(t,e){if(1&t&&(b.Sb(0,"td",24),b.yc(1),b.Rb()),2&t){const t=e.$implicit;b.Bb(1),b.Ac(" ",t.name," ")}}function vt(t,e){1&t&&(b.Sb(0,"th",23),b.yc(1," Precio U Venta"),b.Rb())}function yt(t,e){if(1&t&&(b.Sb(0,"td",24),b.yc(1),b.Rb()),2&t){const t=e.$implicit;b.Bb(1),b.Ac(" ",t.priceUnitVen," ")}}function Ft(t,e){1&t&&(b.Sb(0,"th",23),b.yc(1,"Cantidad"),b.Rb())}function Ct(t,e){if(1&t&&(b.Sb(0,"td",24),b.yc(1),b.Rb()),2&t){const t=e.$implicit;b.Bb(1),b.Bc(" ",t.quantity," - ",t.unit," ")}}function xt(t,e){1&t&&(b.Sb(0,"th",23),b.yc(1," Actions "),b.Rb())}function Bt(t,e){if(1&t){const t=b.Tb();b.Sb(0,"td",24),b.Sb(1,"img",26),b.Zb("click",(function(){b.pc(t);const i=e.$implicit;return b.dc().updateProduct(i)})),b.Rb(),b.Sb(2,"img",27),b.Zb("click",(function(){b.pc(t);const i=e.$implicit;return b.dc().deleteProduct(i)})),b.Rb(),b.Rb()}}function jt(t,e){1&t&&b.Nb(0,"tr",28)}function wt(t,e){1&t&&b.Nb(0,"tr",29)}function qt(t,e){if(1&t&&(b.Sb(0,"div",38),b.Sb(1,"table"),b.Sb(2,"tr"),b.Sb(3,"td"),b.Sb(4,"strong"),b.yc(5,"Compra: "),b.Rb(),b.yc(6),b.Rb(),b.Sb(7,"td"),b.Sb(8,"strong"),b.yc(9,"Cant: "),b.Rb(),b.yc(10),b.Rb(),b.Rb(),b.Rb(),b.Rb()),2&t){const t=b.dc().$implicit;b.Bb(6),b.zc(t.priceUnitCom),b.Bb(4),b.Bc("",t.quantity," - ",t.unit," ")}}function It(t,e){if(1&t){const t=b.Tb();b.Sb(0,"div",30),b.Sb(1,"div",31),b.Zb("click",(function(){return b.pc(t),b.dc().detaills()})),b.Sb(2,"div",32),b.Nb(3,"img",25),b.Rb(),b.Sb(4,"div",33),b.Sb(5,"strong"),b.yc(6),b.Rb(),b.Sb(7,"p"),b.yc(8),b.Rb(),b.Rb(),b.Sb(9,"button",34),b.Sb(10,"mat-icon"),b.yc(11,"more_vert"),b.Rb(),b.Rb(),b.Sb(12,"mat-menu",null,35),b.Sb(14,"button",36),b.Zb("click",(function(){b.pc(t);const i=e.$implicit;return b.dc().updateProduct(i)})),b.yc(15,"Editar"),b.Rb(),b.Sb(16,"button",36),b.Zb("click",(function(){b.pc(t);const i=e.$implicit;return b.dc().deleteProduct(i)})),b.yc(17,"Borrar"),b.Rb(),b.Rb(),b.Rb(),b.xc(18,qt,11,3,"div",37),b.Rb()}if(2&t){const t=e.$implicit,i=b.nc(13),c=b.dc();b.Bb(3),b.jc("src",t.img,b.qc),b.Bb(3),b.zc(t.name),b.Bb(2),b.Bc("Precio de Venta ",t.priceUnitVen," - ",t.unit,""),b.Bb(1),b.jc("matMenuTriggerFor",i),b.Bb(9),b.jc("ngIf",1==c.detaill)}}const Mt=function(){return[5,10,25,100]};function kt(t,e){if(1&t&&(b.Sb(0,"mat-option",29),b.yc(1),b.Rb()),2&t){const t=e.$implicit;b.jc("value",t.name),b.Bb(1),b.zc(t.name)}}function Pt(t,e){1&t&&(b.Sb(0,"p"),b.yc(1,"Este campo es requerido"),b.Rb())}function Nt(t,e){if(1&t&&(b.Sb(0,"div"),b.xc(1,Pt,2,0,"p",8),b.Rb()),2&t){const t=b.dc();b.Bb(1),b.jc("ngIf",t.catesField.hasError("required"))}}function Ot(t,e){1&t&&(b.Sb(0,"p"),b.yc(1,"Este campo es requerido"),b.Rb())}function Et(t,e){if(1&t&&(b.Sb(0,"div"),b.xc(1,Ot,2,0,"p",8),b.Rb()),2&t){const t=b.dc();b.Bb(1),b.jc("ngIf",t.nameField.hasError("required"))}}function Ut(t,e){1&t&&(b.Sb(0,"p"),b.yc(1,"Este campo es requerido"),b.Rb())}function Dt(t,e){if(1&t&&(b.Sb(0,"div"),b.xc(1,Ut,2,0,"p",8),b.Rb()),2&t){const t=b.dc();b.Bb(1),b.jc("ngIf",t.priceField.hasError("required"))}}function $t(t,e){1&t&&(b.Sb(0,"p"),b.yc(1,"Este campo es requerido"),b.Rb())}function _t(t,e){if(1&t&&(b.Sb(0,"div"),b.xc(1,$t,2,0,"p",8),b.Rb()),2&t){const t=b.dc();b.Bb(1),b.jc("ngIf",t.quantityField.hasError("required"))}}function Vt(t,e){1&t&&(b.Sb(0,"p"),b.yc(1,"Este campo es requerido"),b.Rb())}function zt(t,e){if(1&t&&(b.Sb(0,"div"),b.xc(1,Vt,2,0,"p",8),b.Rb()),2&t){const t=b.dc();b.Bb(1),b.jc("ngIf",t.unitField.hasError("required"))}}function Zt(t,e){1&t&&(b.Sb(0,"p"),b.yc(1,"Este campo es requerido"),b.Rb())}function Lt(t,e){if(1&t&&(b.Sb(0,"div"),b.xc(1,Zt,2,0,"p",8),b.Rb()),2&t){const t=b.dc();b.Bb(1),b.jc("ngIf",t.descriptionField.hasError("required"))}}function Gt(t,e){1&t&&(b.Sb(0,"p"),b.yc(1,"Este campo es requerido"),b.Rb())}function Tt(t,e){if(1&t&&(b.Sb(0,"div"),b.xc(1,Gt,2,0,"p",8),b.Rb()),2&t){const t=b.dc();b.Bb(1),b.jc("ngIf",t.priceUnitComField.hasError("required"))}}function Ht(t,e){1&t&&(b.Sb(0,"p"),b.yc(1,"Este campo es requerido"),b.Rb())}function At(t,e){if(1&t&&(b.Sb(0,"div"),b.xc(1,Ht,2,0,"p",8),b.Rb()),2&t){const t=b.dc();b.Bb(1),b.jc("ngIf",t.priceUnitVenField.hasError("required"))}}function Qt(t,e){if(1&t&&b.Nb(0,"img",30),2&t){const t=b.dc();b.jc("src",t.product.img,b.qc)}}function Kt(t,e){1&t&&b.Nb(0,"img",31),2&t&&b.jc("src",e.ngIf,b.qc)}function Jt(t,e){1&t&&(b.Sb(0,"p"),b.yc(1,"Este campo es requerido"),b.Rb())}function Xt(t,e){if(1&t&&(b.Sb(0,"div"),b.xc(1,Jt,2,0,"p",8),b.Rb()),2&t){const t=b.dc();b.Bb(1),b.jc("ngIf",t.productForm.hasError("required"))}}function Wt(t,e){1&t&&(b.Sb(0,"p"),b.yc(1,"Este campo es requerido"),b.Rb())}function Yt(t,e){if(1&t&&(b.Sb(0,"div"),b.xc(1,Wt,2,0,"p",7),b.Rb()),2&t){const t=b.dc();b.Bb(1),b.jc("ngIf",t.nameField.hasError("required"))}}function te(t,e){1&t&&(b.Sb(0,"p"),b.yc(1,"Este campo es requerido"),b.Rb())}function ee(t,e){if(1&t&&(b.Sb(0,"div"),b.xc(1,te,2,0,"p",7),b.Rb()),2&t){const t=b.dc();b.Bb(1),b.jc("ngIf",t.descriptionField.hasError("required"))}}function ie(t,e){if(1&t&&b.Nb(0,"img",13),2&t){const t=b.dc();b.jc("src",t.cate.img,b.qc)}}function ce(t,e){1&t&&b.Nb(0,"img",14),2&t&&b.jc("src",e.ngIf,b.qc)}function re(t,e){1&t&&(b.Sb(0,"p"),b.yc(1,"Este campo es requerido"),b.Rb())}function oe(t,e){if(1&t&&(b.Sb(0,"div"),b.xc(1,re,2,0,"p",7),b.Rb()),2&t){const t=b.dc();b.Bb(1),b.jc("ngIf",t.catesForm.hasError("required"))}}const ne=[{path:"",component:f,children:[{path:"",component:y},{path:"products",component:(()=>{class t{constructor(t,e,i,c){this.productsService=t,this.catesService=e,this.formBuilder=i,this.router=c,this.displayedColumns=["img","name","priceUnitVen","quantity","actions"],this.detaill=!1,this.buildForm()}ngOnInit(){this.catesService.getCates().subscribe(t=>{this.cates=t})}findProductByCate(t){this.productsService.getProducts(t).subscribe(t=>{this.products=t,console.log(",,,,,,,,,,,,,,,,,,,,,,,,,,,,"),console.log(this.products),console.log(",,,,,,,,,,,,,,,,,,,,,,,,,,,,")})}buildForm(){this.cateForm=this.formBuilder.group({cates:["",[_.l.required]]})}updateProduct(t){console.log("======================="),console.log(t),console.log("======================="),this.product={cate:t.cate,id:t.id,name:t.name,price:t.price,priceUnitCom:t.priceUnitCom,priceUnitVen:t.priceUnitVen,quantity:t.quantity,unit:t.unit,description:t.description,img:t.img},console.log("Este es el id de la view "+t.id),this.router.navigate(["admin/edit-product"],{state:{prod:this.product}})}deleteProduct(t){const e={cate_id:t.cate,prod_id:t.id};console.log("Estos son las claves",e),this.productsService.deleteProduct(e)}detaills(){this.detaill=0==this.detaill}}return t.\u0275fac=function(e){return new(e||t)(b.Mb(Y.a),b.Mb(C.a),b.Mb(_.b),b.Mb(r.c))},t.\u0275cmp=b.Gb({type:t,selectors:[["app-view-product"]],decls:37,vars:10,consts:[[1,"mat-elevation-z8"],["mat-button","","routerLink","../create-product"],[3,"formGroup"],[1,"shipping-card"],[1,"row"],[1,"col-xs"],["appearance","fill",1,"full-width"],["type","text","formControlName","cates"],["value","cate.name",3,"click",4,"ngFor","ngForOf"],[1,"mat-elevation-z8","product-table","contend-web"],["mat-table","",1,"full-width-table",3,"dataSource"],["matColumnDef","img"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","priceUnitVen"],["matColumnDef","quantity"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","pageSizeOptions"],["class","contend-movil",4,"ngFor","ngForOf"],["value","cate.name",3,"click"],["mat-header-cell",""],["mat-cell",""],[3,"src"],["src","./assets/icons/edit.png",3,"click"],["src","./assets/icons/del.png",3,"click"],["mat-header-row",""],["mat-row",""],[1,"contend-movil"],[1,"list",3,"click"],[1,"avatar"],[1,"contend"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],["class","detaills",4,"ngIf"],[1,"detaills"]],template:function(t,e){1&t&&(b.Sb(0,"div",0),b.Sb(1,"button",1),b.yc(2,"Crear Producto"),b.Rb(),b.Sb(3,"form",2),b.Sb(4,"mat-card",3),b.Sb(5,"mat-card-header"),b.Sb(6,"mat-card-title"),b.yc(7,"Lista de productos"),b.Rb(),b.Rb(),b.Sb(8,"mat-card-content"),b.Sb(9,"div",4),b.Sb(10,"div",5),b.Sb(11,"mat-form-field",6),b.Sb(12,"mat-label"),b.yc(13,"Categoria"),b.Rb(),b.Sb(14,"mat-select",7),b.xc(15,gt,2,1,"mat-option",8),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Sb(16,"div",9),b.Sb(17,"table",10),b.Qb(18,11),b.xc(19,ft,2,0,"th",12),b.xc(20,ht,2,1,"td",13),b.Pb(),b.Qb(21,14),b.xc(22,St,2,0,"th",12),b.xc(23,Rt,2,1,"td",13),b.Pb(),b.Qb(24,15),b.xc(25,vt,2,0,"th",12),b.xc(26,yt,2,1,"td",13),b.Pb(),b.Qb(27,16),b.xc(28,Ft,2,0,"th",12),b.xc(29,Ct,2,2,"td",13),b.Pb(),b.Qb(30,17),b.xc(31,xt,2,0,"th",12),b.xc(32,Bt,3,0,"td",13),b.Pb(),b.xc(33,jt,1,0,"tr",18),b.xc(34,wt,1,0,"tr",19),b.Rb(),b.Nb(35,"mat-paginator",20),b.Rb(),b.Rb(),b.xc(36,It,19,6,"div",21)),2&t&&(b.Bb(3),b.jc("formGroup",e.cateForm),b.Bb(12),b.jc("ngForOf",e.cates),b.Bb(2),b.jc("dataSource",e.products),b.Bb(16),b.jc("matHeaderRowDef",e.displayedColumns),b.Bb(1),b.jc("matRowDefColumns",e.displayedColumns),b.Bb(1),b.jc("length",100)("pageSize",10)("pageSizeOptions",b.lc(9,Mt)),b.Bb(1),b.jc("ngForOf",e.products))},directives:[m.b,r.d,_.m,_.h,_.d,S.a,S.d,S.g,S.c,L.b,L.e,tt.a,_.g,_.c,c.k,x.j,x.c,x.e,x.b,x.g,x.i,B.a,et.j,x.d,x.a,x.f,x.h,R.c,p.a,R.d,R.a,c.l],styles:[".product-table[_ngcontent-%COMP%]{width:98%;margin:2px auto 0}img[_ngcontent-%COMP%]{width:30px}img[_ngcontent-%COMP%]   .cates-del[_ngcontent-%COMP%]{margin-left:3px}.detaills[_ngcontent-%COMP%]{height:30px;background:rgba(57,69,238,.288)}.detaills[_ngcontent-%COMP%], .detaills[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}"]}),t})()},{path:"create-product",component:pt},{path:"edit-product",component:(()=>{class t{constructor(t,e,i,c,r,o){this.formBuilder=t,this.productsService=e,this.catesService=i,this.router=c,this.activatedRoute=r,this.imgsService=o,this.activatedRoute.queryParams.subscribe(t=>{this.router.getCurrentNavigation().extras.state&&(this.product=this.router.getCurrentNavigation().extras.state.prod,console.log("constructor"),console.log(this.product))}),this.buildForm()}ngOnInit(){this.product&&(this.productForm.patchValue(this.product),this.loadCates())}loadCates(){this.catesService.getCates().subscribe(t=>{this.cates=t,console.log(t)})}buildForm(){this.productForm=this.formBuilder.group({cate:["",[_.l.required]],name:["",[_.l.required]],price:["",[_.l.required]],priceUnitCom:["",[_.l.required]],priceUnitVen:["",[_.l.required]],quantity:["",[_.l.required]],unit:["",[_.l.required]],description:["",[_.l.required]],img:["",[_.l.required]]})}updateProduct(t){t.preventDefault(),this.productForm.valid&&(this.productsService.updateProduct({cate:this.productForm.value.cate,name:this.productForm.value.name,price:this.productForm.value.price,priceUnitCom:this.productForm.value.price/this.productForm.value.quantity,priceUnitVen:this.productForm.value.priceUnitVen,quantity:this.productForm.value.quantity,unit:this.productForm.value.unit,description:this.productForm.value.description,img:this.productForm.value.img},{cate_id:this.product.cate,prod_id:this.product.id}),this.router.navigate(["/admin/products"]))}uploadFile(t){const e=this.imgsService.uploadFiles(t,"products");e.task.snapshotChanges().pipe(Object(V.a)(()=>{this.image$=e.fileRef.getDownloadURL(),this.image$.subscribe(t=>{console.log(t),this.productForm.get("img").setValue(t)})})).subscribe()}get catesField(){return this.productForm.get("cate")}get nameField(){return this.productForm.get("name")}get priceField(){return this.productForm.get("price")}get priceUnitComField(){return this.productForm.get("priceUnitCom")}get priceUnitVenField(){return this.productForm.get("priceUnitVen")}get quantityField(){return this.productForm.get("quantity")}get unitField(){return this.productForm.get("unit")}get descriptionField(){return this.productForm.get("description")}get imgField(){return this.productForm.get("img")}}return t.\u0275fac=function(e){return new(e||t)(b.Mb(_.b),b.Mb(Y.a),b.Mb(C.a),b.Mb(r.c),b.Mb(r.a),b.Mb(Z))},t.\u0275cmp=b.Gb({type:t,selectors:[["app-edit-product"]],decls:91,vars:19,consts:[[1,"mat-elevation-z8"],[3,"formGroup","ngSubmit"],[1,"shipping-card"],[1,"row"],[1,"col-xs"],["appearance","fill full-width"],["type","text","formControlName","cate"],["disabled","",3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"full-width"],["type","text","formControlName","name","matInput","","placeholder","Escribe el nombre"],["type","number","formControlName","price","matInput","","placeholder","Escribe el precio"],["cellspacing","0",1,"example-full-width"],["type","number","formControlName","quantity","matInput","","placeholder","Cantidad dependiendo de la unidad"],[1,"full-width","div"],["type","text","formControlName","unit"],["value","Kilo"],["value","Libra"],["value","Unidad"],["value","Docena"],["value","Litro"],["type","text","formControlName","description","matInput","","placeholder","Escribe la descripcion"],[1,"row","resalt"],["type","number","value","productForm.value.price","disabled","","formControlName","priceUnitCom","matInput","",3,"value"],["type","number","formControlName","priceUnitVen","matInput","","placeholder","Escribe el precio unidad de venta"],["class","img-view",3,"src",4,"ngIf"],["alt","","class","img-view",3,"src",4,"ngIf"],["type","file",3,"change"],["mat-raised-button","","color","accent","type","submit",3,"disabled"],["disabled","",3,"value"],[1,"img-view",3,"src"],["alt","",1,"img-view",3,"src"]],template:function(t,e){1&t&&(b.Sb(0,"div",0),b.Sb(1,"form",1),b.Zb("ngSubmit",(function(t){return e.updateProduct(t)})),b.Sb(2,"mat-card",2),b.Sb(3,"mat-card-header"),b.Sb(4,"mat-card-title"),b.yc(5,"Crear nuevo producto"),b.Rb(),b.Rb(),b.Sb(6,"mat-card-content"),b.Sb(7,"div",3),b.Sb(8,"div",4),b.Sb(9,"mat-form-field",5),b.Sb(10,"mat-label"),b.yc(11,"Categoria"),b.Rb(),b.Sb(12,"mat-select",6),b.xc(13,kt,2,2,"mat-option",7),b.Rb(),b.Rb(),b.xc(14,Nt,2,1,"div",8),b.Rb(),b.Rb(),b.Sb(15,"div",3),b.Sb(16,"div",4),b.Sb(17,"mat-form-field",9),b.Sb(18,"mat-label"),b.yc(19,"Nombre"),b.Rb(),b.Nb(20,"input",10),b.Rb(),b.xc(21,Et,2,1,"div",8),b.Rb(),b.Rb(),b.Sb(22,"div",3),b.Sb(23,"div",4),b.Sb(24,"mat-form-field",9),b.Sb(25,"mat-label"),b.yc(26,"Precio"),b.Rb(),b.Nb(27,"input",11),b.Rb(),b.xc(28,Dt,2,1,"div",8),b.Rb(),b.Rb(),b.Sb(29,"div",3),b.Sb(30,"div",4),b.Sb(31,"table",12),b.Sb(32,"tr"),b.Sb(33,"td"),b.Sb(34,"mat-form-field",9),b.Sb(35,"mat-label"),b.yc(36,"Cantidad"),b.Rb(),b.Nb(37,"input",13),b.xc(38,_t,2,1,"div",8),b.Rb(),b.Rb(),b.Sb(39,"td"),b.Sb(40,"mat-form-field",14),b.Sb(41,"mat-label"),b.yc(42,"Unidad"),b.Rb(),b.Sb(43,"mat-select",15),b.Sb(44,"mat-option"),b.yc(45,"Selecciona una"),b.Rb(),b.Sb(46,"mat-option",16),b.yc(47,"Kilos"),b.Rb(),b.Sb(48,"mat-option",17),b.yc(49,"Libras"),b.Rb(),b.Sb(50,"mat-option",18),b.yc(51,"Unidades"),b.Rb(),b.Sb(52,"mat-option",19),b.yc(53,"Docenas"),b.Rb(),b.Sb(54,"mat-option",20),b.yc(55,"Litros"),b.Rb(),b.Sb(56,"mat-option",20),b.yc(57,"Manojos"),b.Rb(),b.Rb(),b.xc(58,zt,2,1,"div",8),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Sb(59,"div",3),b.Sb(60,"div",4),b.Sb(61,"mat-form-field",9),b.Sb(62,"mat-label"),b.yc(63,"Descripci\xf3n"),b.Rb(),b.Nb(64,"textarea",21),b.Rb(),b.xc(65,Lt,2,1,"div",8),b.Rb(),b.Rb(),b.Sb(66,"div",22),b.Sb(67,"div",4),b.Sb(68,"mat-form-field",9),b.Sb(69,"mat-label"),b.yc(70,"Precio Unidad Compra"),b.Rb(),b.Nb(71,"input",23),b.Rb(),b.xc(72,Tt,2,1,"div",8),b.Rb(),b.Rb(),b.Sb(73,"div",22),b.Sb(74,"div",4),b.Sb(75,"mat-form-field",9),b.Sb(76,"mat-label"),b.yc(77,"Precio Unidad Venta"),b.Rb(),b.Nb(78,"input",24),b.Rb(),b.xc(79,At,2,1,"div",8),b.Rb(),b.Rb(),b.Sb(80,"div",3),b.Sb(81,"div",4),b.xc(82,Qt,1,1,"img",25),b.ec(83,"async"),b.xc(84,Kt,1,1,"img",26),b.ec(85,"async"),b.Sb(86,"input",27),b.Zb("change",(function(t){return e.uploadFile(t)})),b.Rb(),b.xc(87,Xt,2,1,"div",8),b.Rb(),b.Rb(),b.Rb(),b.Sb(88,"mat-card-actions"),b.Sb(89,"button",28),b.yc(90,"Actualizar"),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb()),2&t&&(b.Bb(1),b.jc("formGroup",e.productForm),b.Bb(12),b.jc("ngForOf",e.cates),b.Bb(1),b.jc("ngIf",e.catesField.errors&&e.catesField.dirty),b.Bb(7),b.jc("ngIf",e.nameField.errors&&e.nameField.dirty),b.Bb(7),b.jc("ngIf",e.priceField.errors&&e.priceField.dirty),b.Bb(10),b.jc("ngIf",e.quantityField.errors&&e.quantityField.dirty),b.Bb(20),b.jc("ngIf",e.unitField.errors&&e.unitField.dirty),b.Bb(7),b.jc("ngIf",e.descriptionField.errors&&e.descriptionField.dirty),b.Bb(6),b.jc("value",e.productForm.value.price/e.productForm.value.quantity),b.Bb(1),b.jc("ngIf",e.priceUnitComField.errors&&e.priceUnitComField.dirty),b.Bb(7),b.jc("ngIf",e.priceUnitVenField.errors&&e.priceUnitVenField.dirty),b.Bb(3),b.jc("ngIf",!b.fc(83,15,e.image$)&&e.product),b.Bb(2),b.jc("ngIf",b.fc(85,17,e.image$)),b.Bb(3),b.jc("ngIf",e.productForm.errors),b.Bb(2),b.jc("disabled",e.productForm.invalid))},directives:[_.m,_.h,_.d,S.a,S.d,S.g,S.c,L.b,L.e,tt.a,_.g,_.c,c.k,c.l,_.a,G.a,_.j,et.j,S.b,m.b],pipes:[c.b],styles:[".product-form[_ngcontent-%COMP%]{width:98%;margin:10px auto 0}.full-width[_ngcontent-%COMP%]{width:100%}.resalt[_ngcontent-%COMP%]{background:rgba(234,238,238,.404);border-radius:4px}"]}),t})()},{path:"cates",component:$},{path:"create-cate",component:W},{path:"edit-cate",component:(()=>{class t{constructor(t,e,i,c,r){this.activatedRoute=t,this.router=e,this.formBuilder=i,this.catesService=c,this.imgsService=r,this.activatedRoute.queryParams.subscribe(t=>{this.router.getCurrentNavigation().extras.state&&(this.cate=this.router.getCurrentNavigation().extras.state.cate,console.log("constructor"),console.log(this.cate))}),this.buildForm()}ngOnInit(){this.cate&&this.catesForm.patchValue(this.cate)}buildForm(){this.catesForm=this.formBuilder.group({name:["",[_.l.required]],description:["",[_.l.required]],img:[""]})}updateCate(t){if(t.preventDefault(),this.catesForm.valid){const t={name:this.catesForm.value.name,description:this.catesForm.value.description,img:this.catesForm.value.img};console.log(t),this.catesService.updateCate(t,this.cate.id),this.router.navigate(["/admin/cates"])}}uploadFile(t){const e=this.imgsService.uploadFiles(t,"cates");e.task.snapshotChanges().pipe(Object(V.a)(()=>{this.image$=e.fileRef.getDownloadURL(),this.image$.subscribe(t=>{console.log(t),this.catesForm.get("img").setValue(t)})})).subscribe()}get nameField(){return this.catesForm.get("name")}get descriptionField(){return this.catesForm.get("description")}}return t.\u0275fac=function(e){return new(e||t)(b.Mb(r.a),b.Mb(r.c),b.Mb(_.b),b.Mb(C.a),b.Mb(Z))},t.\u0275cmp=b.Gb({type:t,selectors:[["app-edit-cates"]],decls:34,vars:11,consts:[[1,"mat-elevation-z8","cates-form"],[3,"formGroup","ngSubmit"],[1,"shipping-card"],[1,"row"],[1,"col-xs"],[1,"full-width"],["type","text","formControlName","name","matInput","","placeholder","Escribe el nombre","value","Joe Doe"],[4,"ngIf"],["formControlName","description","matInput","","placeholder","Escribe la descripcion"],["class","img-view",3,"src",4,"ngIf"],["alt","","class","img-view",3,"src",4,"ngIf"],["type","file",3,"change"],["mat-raised-button","","color","accent","type","submit",3,"disabled"],[1,"img-view",3,"src"],["alt","",1,"img-view",3,"src"]],template:function(t,e){1&t&&(b.Sb(0,"div",0),b.Sb(1,"form",1),b.Zb("ngSubmit",(function(t){return e.updateCate(t)})),b.Sb(2,"mat-card",2),b.Sb(3,"mat-card-header"),b.Sb(4,"mat-card-title"),b.yc(5,"Actualizar categoria"),b.Rb(),b.Rb(),b.Sb(6,"mat-card-content"),b.Sb(7,"div",3),b.Sb(8,"div",4),b.Sb(9,"mat-form-field",5),b.Sb(10,"mat-label"),b.yc(11,"Nombre"),b.Rb(),b.Nb(12,"input",6),b.Rb(),b.xc(13,Yt,2,1,"div",7),b.Rb(),b.Rb(),b.Sb(14,"div",3),b.Sb(15,"div",4),b.Sb(16,"mat-form-field",5),b.Sb(17,"mat-label"),b.yc(18,"Descripci\xf3n"),b.Rb(),b.Nb(19,"textarea",8),b.Rb(),b.xc(20,ee,2,1,"div",7),b.Rb(),b.Rb(),b.Sb(21,"div",3),b.Sb(22,"div",4),b.Sb(23,"h1"),b.yc(24,"Images"),b.Rb(),b.xc(25,ie,1,1,"img",9),b.ec(26,"async"),b.xc(27,ce,1,1,"img",10),b.ec(28,"async"),b.Sb(29,"input",11),b.Zb("change",(function(t){return e.uploadFile(t)})),b.Rb(),b.xc(30,oe,2,1,"div",7),b.Rb(),b.Rb(),b.Rb(),b.Sb(31,"mat-card-actions"),b.Sb(32,"button",12),b.yc(33,"Actualizar"),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb()),2&t&&(b.Bb(1),b.jc("formGroup",e.catesForm),b.Bb(12),b.jc("ngIf",e.nameField.errors&&e.nameField.dirty),b.Bb(7),b.jc("ngIf",e.descriptionField.errors&&e.descriptionField.dirty),b.Bb(5),b.jc("ngIf",!b.fc(26,7,e.image$)&&e.cate),b.Bb(2),b.jc("ngIf",b.fc(28,9,e.image$)),b.Bb(3),b.jc("ngIf",e.catesForm.errors),b.Bb(2),b.jc("disabled",e.catesForm.invalid))},directives:[_.m,_.h,_.d,S.a,S.d,S.g,S.c,L.b,L.e,_.a,G.a,_.g,_.c,c.l,S.b,m.b],pipes:[c.b],styles:[""]}),t})()}]}];let ae=(()=>{class t{}return t.\u0275mod=b.Kb({type:t}),t.\u0275inj=b.Jb({factory:function(e){return new(e||t)},imports:[[r.g.forChild(ne)],r.g]}),t})();var be=i("hctd");let se=(()=>{class t{}return t.\u0275mod=b.Kb({type:t}),t.\u0275inj=b.Jb({factory:function(e){return new(e||t)},imports:[[c.c,ae,_.k,be.a,o.c]]}),t})()}}]);